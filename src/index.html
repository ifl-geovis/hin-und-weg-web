<!DOCTYPE html>
<html>
	<head>
		<title>hin&amp;weg web</title>
		<meta charset="UTF-8">
		<link rel="icon" type="image/x-icon" href="img/huw-logo_32.ico">
		<link rel="stylesheet" href="lib/leaflet.css">
		<link rel="stylesheet" href="lib/geostats.css">
		<link rel="stylesheet" href="main.css">
		<script type="text/javascript" src="lib/leaflet.js"></script>
		<script type="text/javascript" src="lib/Leaflet.SwoopyArrow.js"></script>
		<script type="text/javascript" src="lib/turf.min.js"></script>
		<script type="text/javascript" src="lib/papaparse.min.js"></script>
		<script type="text/javascript" src="lib/alasql.min.js"></script>
		<script type="text/javascript" src="lib/chroma.min.js"></script>
		<script type="text/javascript" src="lib/geostats.js"></script>
		<script type="text/javascript" src="main.js"></script>
		<script type="text/javascript" src="util.js"></script>
		<script type="text/javascript" src="init.js"></script>
		<script type="text/javascript" src="map.js"></script>
		<script type="text/javascript" src="table.js"></script>
		<script type="text/javascript" src="charts.js"></script>
		<script type="text/javascript" src="dataset-loader.js"></script>
	</head>

	<body>

		<!-- title header -->
		<div id="header">
				<img src="img/huw-logo_32.png" title="hin&amp;weg logo" />
			<h1>
				hin&amp;weg web
				<span id="versionsub">Version 0.2.0</span>
				</h1>
				<h3 id="dataset_title"></h3>
		</div>

		<!-- credits -->
		<div id="credits">
			<img src="img/ifl_logo.svg" height="40px" />
			<a href="datenschutz.html">Datenschutz</a><br />
			<a href="impressum.html">Impressum</a>
		</div>

		<!-- map -->
		<div id="leafletmap"></div>

		<!-- feature info popup -->
		<div id="feature_info_popup">
		</div>

		<!-- infos&selections -->
		<div id="selection_box">
			<label for="dataset_name_value">Datensatz:</label><br />
			<input name="dataset_name_value" id="dataset_name_value" type="text" value="" disabled /><br />
			<label for="category_name_value">Datenkategorie:</label><br />
			<input name="category_name_value" id="category_name_value" type="text" value="" disabled /><br />
			<hr />
			<label for="theme_selector">Thema:</label><br />
			<select name="theme" id="theme_selector" class="selector" oninput="theme_selected(event)" disabled>
				<option value="von">Von</option>
				<option value="nach">Nach</option>
				<option value="saldi">Saldi</option>
			</select>
			<br />
			<input type="checkbox" id="swoopy_arrows_selector" class="selector" name="swoopy_arrows" value="swoopy_arrows" onchange="swoopy_arrows_changed(event)" disabled>
			<label for="swoopy_arrows_selector"> Bewegungen visualisieren</label>
			<hr />
			<label for="area_selector">Fläche:</label><br />
			<select name="area" id="area_selector" class="selector" oninput="area_selected(event)" disabled>
				<option value="">-- Fläche auswählen --</option>
			</select>
			<br />
			<input type="checkbox" id="area_inside_selector" class="selector" name="area_inside" value="area_inside" onchange="area_inside_changed(event)" disabled checked>
			<label for="area_inside_selector"> Umzüge innerhalb</label>
			<div id="years_selection">
				<hr />
				<label for="year_selector">Jahre:</label><br />
				<select name="years" id="year_selector" class="selector" size="10" oninput="year_selected(event)" multiple disabled>
				</select>
			</div>
			<div id="filter">
				<hr />
				<span>Filter:</span><br />
				<label for="filter_min">min:</label><br />
				<input name="filter_min" id="filter_min" class="filter" type="number" value="" oninput="filter_changed(event)" disabled /><br />
				<label for="filter_max">max:</label><br />
				<input name="filter_max" id="filter_max" class="filter" type="number" value="" oninput="filter_changed(event)" disabled /><br />
			</div>
		</div>

		<!-- dataset loader dialog -->
		<div id="datasetloader_dialog" class="viewcomponent">
			<h2 class="title_bar" draggable="true" ondragstart="move_start(event, 'datasetloader_dialog')" ondragend="move_stop(event, 'datasetloader_dialog')">
				Datensatz einladen
			</h2>
			<div id="datasetloader_close_button" class="close_button" onclick="close_view(event, 'datasetloader_dialog')">
				<img src="img/x-square.svg" width="100%" height="100%" />
			</div>
			<div id="datasetloader_content">
				<p>Bitte laden sie den gewünschten Datensatz</p>
				<label for="dataset_selector">Datensatz:</label>
				<select name="dataset" id="dataset_selector" oninput="dataset_selected(event)">
					<option value="">-- Bitte wählen sie einen Datensatz aus --</option>
				</select>
				<br />
				<label for="category_selector">Datenkategorie:</label>
				<select name="category" id="category_selector" oninput="category_selected(event)" disabled>
					<option value="">-- Bitte wählen sie eine Datenkategorie aus --</option>
				</select>
				<br />
				<button name="load_dataset" id="load_dataset_button" onclick="load_dataset(event)" disabled>Daten einladen</button>
			</div>
		</div>

		<!-- legend view -->
		<div id="legend_view">
			<h2 class="title_bar" draggable="true" ondragstart="move_start_legend(event, 'legend_view')" ondragend="move_stop_legend(event, 'legend_view')">
				Legende
			</h2>
			<div id="legend_content" class="view_content">
			</div>
		</div>

		<!-- table view -->
		<div id="table_view" class="viewcomponent">
			<h2 class="title_bar" draggable="true" ondragstart="move_start(event, 'table_view')" ondragend="move_stop(event, 'table_view')">
				tabellarische Ansicht
			</h2>
			<div id="table_view_close_button" class="close_button" onclick="close_view(event, 'table_view')">
				<img src="img/x-square.svg" width="100%" height="100%" />
			</div>
			<div id="table_view_data" class="view_content">
			</div>
		</div>

		<!-- statistics view -->
		<div id="statistics_view" class="viewcomponent">
			<h2 class="title_bar" draggable="true" ondragstart="move_start(event, 'statistics_view')" ondragend="move_stop(event, 'statistics_view')">
				Statistiken
			</h2>
			<div id="statistics_view_close_button" class="close_button" onclick="close_view(event, 'statistics_view')">
				<img src="img/x-square.svg" width="100%" height="100%" />
			</div>
			<div id="statistics_view_data" class="view_content">
			</div>
		</div>

		<!-- bar chart view -->
		<div id="barchart_view" class="viewcomponent">
			<h2 class="title_bar" draggable="true" ondragstart="move_start(event, 'barchart_view')" ondragend="move_stop(event, 'barchart_view')">
				Balkendiagramm
			</h2>
			<div id="barchart_view_close_button" class="close_button" onclick="close_view(event, 'barchart_view')">
				<img src="img/x-square.svg" width="100%" height="100%" />
			</div>
			<div id="barchart_view_data" class="view_content">
			</div>
		</div>

		<!-- action buttons on the right -->
		<div id="dataset_load_button" class="action_button" title="anderen Datensatz laden" onclick="dataset_load(event)">
			<img src="img/document-download.svg" width="100%" height="100%" />
		</div>
		<div id="table_button" class="action_button" title="tabellarische Ansicht" onclick="show_viewcomponent(event, 'table_view')">
			<img src="img/table-data.svg" width="100%" height="100%" />
		</div>
		<div id="statistics_button" class="action_button" title="Statistiken" onclick="show_viewcomponent(event, 'statistics_view')">
			<img src="img/calculator.svg" width="100%" height="100%" />
		</div>
		<div id="barchart_button" class="action_button" title="Balkendiagramm" onclick="show_viewcomponent(event, 'barchart_view')">
			<img src="img/chart-bar.svg" width="100%" height="100%" />
		</div>

		<!-- scripting load -->
		<!-- after the map-div, because otherwise it may go wrong -->
		<script type="text/javascript" defer>
			init();
		</script>

	</body>
</html>